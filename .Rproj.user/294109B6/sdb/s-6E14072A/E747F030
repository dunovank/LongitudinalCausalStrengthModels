{
    "collab_server" : "",
    "contents" : "#### Simulation for RW model with multiple causes\n\n# load libraries, be sure to source the RW_model file\nlibrary(\"tidyr\")\nlibrary(\"dplyr\")\nlibrary(\"ggplot2\")\ntheme_set(theme_bw())\n\n# parameters for generating data\ni <- 100 # num of trials\nj <- 2 # num of causes (excluding background cue)\ncauses <- character() # vector for cause labels\nweights <- runif(j,-1,1) # weights for causes\n\n# generate cause(s)\nc0 <- rep(1,i) # background cue\nfor (p in 1:j) { \n    causes[p] <- paste(\"c\", as.character(p), sep=\"\") # cause name(s)\n    assign(causes[p], sample(c(0,1), i, replace = TRUE)) # generate binary cause(s)\n}\n\n# generate effect from cause(s) ala multiple regression\ne <- numeric(i)\nfor (q in 1:i) {\n    tmp <- numeric(j)\n    for (r in 1:j) {\n        tmp[r] <- weights[r]*get(causes[r])[q] # compute product of cause(s) and weight(s) for that trial\n    }\n    e[q] <- 1*c0[q] + sum(tmp) # e = w0*c0 + w1*c1 + w2*c2...\n}\n\n# combine all variables, change based on what causes there are\ndf <- data.frame(e, c0, c1, c2)\n\n#### sample output\nrw <- RW(alpha=.1, df, effectCol=1)\n\n#### plots\n# plot error by trial\nggplot(rw, aes(x=t, y=error)) + geom_line() + ggtitle(\"Prediction error over time\")\n\n# plot strength (V) by trial\nrw.V <- rw %>% gather(Vcue, V, Vc0:VTotal) %>% arrange(t, Vcue) %>% filter(Vcue != \"VTotal\")\nggplot(rw.V, aes(x=t, color=Vcue, y=V)) + geom_line() + ggtitle(\"Associative strength over time\")\n\n# plot deltaV by trial\n# rw.dV <- rw %>% gather(dVcue, dV, dVc0:dVc2) %>% arrange(t, dVcue)\n# ggplot(rw.dV, aes(x=t, color=dVcue, y=dV)) + geom_line() \n",
    "created" : 1463667442656.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1958305099",
    "id" : "E747F030",
    "lastKnownWriteTime" : 1463670334,
    "last_content_update" : 1463670334875,
    "path" : "~/Box Sync/Projects/LearningCausalStrength/RCode/CausalStrengthModels/RW_simplot.R",
    "project_path" : "RW_simplot.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}